<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>File Upload</title>
  <link href="css/demo.css" media="all" rel="stylesheet" type="text/css">
</head>

<body>
  <div id="container">
    <h1 id="upload-title">File Upload</h1>
    <form id="upload_form" class="form" onsubmit="return simulateFileUpload(event);">
      <div class="form-group">
        <label for="file_input" class="form-label">Choose a file to upload:</label>
        <input id="file_input" class="form-input" type="file" required>
      </div>
      <div class="form-group">
        <input type="submit" class="form-button" value="Upload">
      </div>
    </form>
    <div id="upload_status" class="upload-status"></div>
    <button id="back-button" class="button" onclick="window.location.href='welcome.html'">Back to Welcome Page</button>
  </div>

  <script>
    function simulateFileUpload(event) {
      event.preventDefault(); // Prevent form from submitting the traditional way

      const fileInput = document.getElementById('file_input');
      const uploadStatus = document.getElementById('upload_status');

      if (fileInput.files.length > 0) {
        const file = fileInput.files[0];

        // Simulate a file upload delay with a progress bar
        let progress = 0;
        uploadStatus.innerHTML = `
          <p id="uploading-file-info">Uploading: ${file.name} (${(file.size / 1024).toFixed(2)} KB)</p>
          <div id="progress-bar-container" class="progress-bar-container">
            <div id="progress-bar" class="progress-bar"></div>
          </div>
        `;

        const progressBar = document.getElementById('progress-bar');

        const uploadSimulation = setInterval(() => {
          if (progress < 100) {
            progress += 5; // Increase progress
            progressBar.style.width = progress + '%'; // Update progress bar width
          } else {
            clearInterval(uploadSimulation);
            alert('File uploaded successfully!');
            uploadStatus.innerHTML = '<p id="upload-complete">Upload complete!</p>';
          }
        }, 100); // Update progress every 100 ms
      } else {
        alert('Please select a file to upload.');
      }
    }
  </script>
</body>

</html>